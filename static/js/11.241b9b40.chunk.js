(this["webpackJsonpbairro-admin"]=this["webpackJsonpbairro-admin"]||[]).push([[11],{166:function(e,r,t){},168:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var a=t(2);function o(e,r){if(null==e)return{};var t,a,o=function(e,r){if(null==e)return{};var t,a,o={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=t(15),n=(t(5),t(166),function(e){var r=e.placeholder,t=e.errors,n=e.name,i=e.type,s=e.register,u=e.title,l=e.required,d=e.customStyle,b=e.onChange,p=o(e,["placeholder","errors","name","type","register","title","required","customStyle","onChange"]);return Object(c.jsxs)("div",{className:"Container",style:d,children:[Object(c.jsx)("p",{className:"Row-Title",children:u}),Object(c.jsxs)("div",{className:"Container-Row",children:[Object(c.jsx)("input",Object(a.a)({className:"Container-Row-Input ".concat(t[n]?"Container-Row-Input-Error":""),type:i,step:"0.01",name:n,onChange:function(e){return b?b(e.target.value):null},placeholder:r,ref:s(l)},p)),"checkbox"===i&&Object(c.jsx)("b",{className:"Container-Row-Title",children:r})]}),Object(c.jsx)("div",{className:"Error ".concat(t[n]?"Error-Trans":""),children:t[n]&&Object(c.jsx)("b",{className:"Error-Text",children:"Value required"})})]})})},171:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var a=t(15),o=(t(5),t(183)),c=t(165),n=(t(172),function(e){var r=e.placeholder,t=(e.errors,e.name),n=e.control,i=e.options,s=e.title,u=(e.required,e.onChangeAction),l=e.defaultValue,d=e.multi;return Object(a.jsxs)("div",{style:{width:"100%",marginBottom:24},children:[Object(a.jsx)("p",{className:"Row-Title",children:s}),Object(a.jsx)(c.a,{control:n,style:{width:"100%",marginBottom:24},name:t,render:function(e){var t=e.onChange,c=(e.onBlur,e.value);e.name,e.ref;return Object(a.jsx)(o.a,{className:"Select",onChange:function(e){u&&u(e.value),t(e)},value:c,isMulti:d||!1,placeholder:r,options:i})},defaultValue:l?i.filter((function(e){return e.value===l}))[0]:null})]})})},172:function(e,r,t){},255:function(e,r,t){},308:function(e,r,t){"use strict";t.r(r);var a=t(4),o=t.n(a),c=t(52),n=t(41),i=t(15),s=t(5),u=t(51),l=t(165),d=t(168),b=t(54),p=(t(255),t(21)),j=t(19),m=t(171),g=t(24),h=t(20),f=t(10);r.default=Object(u.b)((function(e){return{last_photo:e.image.last_photo,categories:e.category.categories,sub_categories:e.sub_category.subCategories,subCategoriesLoading:e.sub_category.loading,categoriesLoading:e.category.loading}}),(function(e){return{fetchCreatePhoto:function(r){return e(Object(b.a)(r))},fetchCreateProduct:function(r,t){return e(Object(h.b)(r,t))},fetchAllCategories:function(){return e(Object(p.a)())},fetchAllSubCategories:function(){return e(Object(g.a)())}}}))((function(e){var r=e.fetchCreatePhoto,t=e.fetchCreateProduct,a=e.fetchAllSubCategories,u=e.fetchAllCategories,b=e.last_photo,p=e.categories,g=e.sub_categories,h=(e.subCategoriesLoading,e.categoriesLoading,Object(j.g)()),O=Object(s.useState)(!1),x=Object(n.a)(O,2),y=x[0],C=x[1],v=Object(s.useState)(""),_=Object(n.a)(v,2),N=(_[0],_[1],Object(s.useState)(0)),P=Object(n.a)(N,2),q=P[0],S=P[1],w=Object(s.useState)(0),F=Object(n.a)(w,2),I=F[0],R=F[1],T=Object(l.b)(),E=T.register,k=T.handleSubmit,A=T.errors,B=(T.getValues,T.control);Object(s.useEffect)((function(){a(),u()}),[]);var M=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],console.log(a),e.next=4,r(a);case 4:C(!0);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"Product-Create",children:[Object(i.jsxs)("div",{className:"Product-Create-Header",children:[Object(i.jsx)("p",{className:"Product-Create-Header-Title",children:"Creat Product"}),Object(i.jsx)("div",{className:"Product-Create-Header-Button"})]}),g&&p?Object(i.jsxs)("form",{className:"Product-Create-Form",onSubmit:k((function(e){y&&b&&t({title:e.title,title_pt:e.title_pt,price:{current:Number(e.price),old:e.old_price?Number(e.old_price):0,discount:e.old_price?Number(Math.floor(100-q/(I/100)))<0?0:Number(Math.floor(100-q/(I/100))):0},storage_count:e.storage_count,storage_info:e.storage_info,descriptions:e.descriptions,descriptions_pt:e.descriptions_pt,images:[b],sub_category:e.sub_categories.map((function(e){return f.b.doc("sub_category/".concat(e.value))})),priority:Number(e.priority)},h)})),children:[y?Object(i.jsx)("img",{className:"Product-Create-Form-Selected-Image",src:b,alt:""}):Object(i.jsx)("div",{className:"Product-Create-Form-Image-Empty",children:Object(i.jsx)("p",{children:"Image not added"})}),Object(i.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/jpg",className:"Product-Create-Form-Image",onChange:M}),Object(i.jsx)(d.a,{placeholder:"Title",name:"title",type:"text",errors:A,register:E,required:{required:!0}}),Object(i.jsx)(d.a,{placeholder:"Portugal Title",name:"title_pt",type:"text",errors:A,register:E,required:{required:!0}}),Object(i.jsx)(d.a,{placeholder:"Priority number",name:"priority",type:"number",errors:A,register:E,required:{required:!0}}),Object(i.jsxs)("div",{className:"Product-Create-Form-Row",children:[Object(i.jsx)(d.a,{customStyle:{marginRight:"20px"},placeholder:"Current Price",name:"price",type:"number",errors:A,register:E,onChange:function(e){return S(e)},required:{required:!0}}),Object(i.jsx)(d.a,{placeholder:"Old Price",name:"old_price",type:"number",errors:A,register:E,onChange:function(e){return R(e)},required:{}})]}),Object(i.jsxs)("p",{className:"Product-Create-Form-Price",children:["Finally discount:",I?Number(Math.floor(100-q/(I/100)))<0?0:Number(Math.floor(100-q/(I/100))):0]}),Object(i.jsx)(d.a,{placeholder:"Storage Count",name:"storage_count",type:"number",errors:A,register:E,required:{required:!0}}),Object(i.jsx)(d.a,{placeholder:"Storage Info",name:"storage_info",type:"text",errors:A,register:E,required:{required:!0}}),Object(i.jsx)(m.a,{placeholder:"Sub Categories(Firstly select category)",name:"sub_categories",options:g.map((function(e){return{value:e._id,label:e.name}})),errors:A,control:B,required:{required:!0},multi:!0}),Object(i.jsx)(d.a,{placeholder:"Descriptions",name:"descriptions",type:"text",errors:A,register:E,required:{required:!0}}),Object(i.jsx)(d.a,{placeholder:"Portugal Descriptions",name:"descriptions_pt",type:"text",errors:A,register:E,required:{required:!0}}),Object(i.jsx)("input",{type:"submit",className:"Product-Create-Form-Button",value:"Create"})]}):null]})}))}}]);
//# sourceMappingURL=11.241b9b40.chunk.js.map