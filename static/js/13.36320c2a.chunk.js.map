{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/FormInput/FormInput.tsx","components/FormSelect/FormSelect.tsx","pages/EditProduct/EditProductContainer.tsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","FormInput","placeholder","errors","name","type","register","title","required","customStyle","onChange","props","className","style","step","e","value","ref","FormSelect","control","options","onChangeAction","defaultValue","multi","width","marginBottom","render","onBlur","isMulti","filter","el","connect","state","last_photo","image","categories","category","singleProduct","product","singleLoading","sub_categories","sub_category","subCategories","subCategoriesLoading","loading","categoriesLoading","dispatch","fetchCreatePhoto","fetchSingleProduct","productId","fetchAllCategories","fetchAllSubCategories","fetchUpdateProduct","updated_product","history","useRouteMatch","params","useHistory","useState","isPhotoLoad","setPhotoLoad","price","setPrice","oldPrice","setOldPrice","useForm","handleSubmit","setValue","useEffect","_id","console","log","title_pt","priority","current","old","discount","map","label","descriptions","descriptions_pt","life_conditions","life_conditions_pt","сomposition","сomposition_pt","storage_info","storage_count","handleImageAsFile","a","files","onSubmit","data","Number","old_price","Math","floor","images","firestore","doc","src","alt","accept","marginRight"],"mappings":"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","file":"static/js/13.36320c2a.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, { FC } from \"react\";\nimport { DeepMap, FieldError } from \"react-hook-form\";\nimport \"./form-input.scss\";\n\ninterface FormInputProps {\n  placeholder: string;\n  errors: DeepMap<Record<string, any>, FieldError>;\n  name: string;\n  type: string;\n  register: any;\n  required: any;\n  title?: string;\n  customStyle?: any;\n  onChange?: any;\n  step?: string;\n  min?: string;\n  max?: string;\n}\n\nexport const FormInput: FC<FormInputProps> = ({\n  placeholder,\n  errors,\n  name,\n  type,\n  register,\n  title,\n  required,\n  customStyle,\n  onChange,\n  ...props\n}) => {\n  return (\n    <div className=\"Container\" style={customStyle}>\n      <p className=\"Row-Title\">{title}</p>\n      <div className=\"Container-Row\">\n        <input\n          className={`Container-Row-Input ${\n            errors[name] ? \"Container-Row-Input-Error\" : \"\"\n          }`}\n          type={type}\n          step=\"0.01\"\n          name={name}\n          onChange={(e) => (onChange ? onChange(e.target.value) : null)}\n          placeholder={placeholder}\n          ref={register(required)}\n          {...props}\n        />\n        {type === \"checkbox\" && (\n          <b className=\"Container-Row-Title\">{placeholder}</b>\n        )}\n      </div>\n      <div className={`Error ${errors[name] ? \"Error-Trans\" : \"\"}`}>\n        {errors[name] && <b className=\"Error-Text\">Value required</b>}\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from \"react\";\nimport Select from \"react-select\";\nimport { Controller } from \"react-hook-form\";\nimport \"./form-select.scss\";\n\ninterface FormSelectProps {\n  placeholder?: string;\n  errors: any;\n  name: string;\n  control: any;\n  options: any;\n  required: any;\n  title?: string;\n  onChangeAction?: (value: any) => void;\n  defaultValue?: any;\n  multi?: boolean;\n}\n\nexport const FormSelect: FC<FormSelectProps> = ({\n  placeholder,\n  errors,\n  name,\n  control,\n  options,\n  title,\n  required,\n  onChangeAction,\n  defaultValue,\n  multi,\n}) => {\n  return (\n    <div style={{ width: \"100%\", marginBottom: 24 }}>\n      <p className=\"Row-Title\">{title}</p>\n      <Controller\n      control={control}\n      style={{ width: \"100%\", marginBottom: 24 }}\n      name={name}\n      render={({ onChange, onBlur, value, name, ref }) => (\n        <Select\n          className={\"Select\"}\n          onChange={(e: any) => {\n            if (onChangeAction) onChangeAction(e.value);\n            onChange(e);\n          }}\n          value={value}\n          isMulti={multi ? multi : false}\n          placeholder={placeholder}\n          options={options}\n        />\n      )}\n      defaultValue={\n        defaultValue\n          ? options.filter((el: any) => el.value === defaultValue)[0]\n          : null\n      }\n      />\n    </div>\n  );\n};\n","import React, { FC, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { useForm } from \"react-hook-form\";\nimport { FormInput } from \"../../components/FormInput/FormInput\";\nimport { fetchCreatePhoto } from \"../../redux/image/actions\";\nimport { RootState } from \"../../redux/RootReducer\";\nimport \"./edit-product.scss\";\nimport {\n  fetchAllCategories,\n  fetchCreateCategory,\n} from \"../../redux/categories/actions\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { FormSelect } from \"../../components/FormSelect/FormSelect\";\nimport { fetchAllSubCategories } from \"../../redux/sub_categories/actions\";\nimport {\n  fetchCreateProduct,\n  fetchSingleProduct,\n  fetchUpdateProduct,\n} from \"../../redux/products/actions\";\nimport { Product } from \"../../common/types/Types\";\nimport { firestore } from \"../../common/firebase\";\n\ntype UpdateProduct = {\n  title: string;\n  title_pt: string;\n  price: number;\n  old_price: number;\n  category: string;\n  storage_count: string;\n  storage_info: string;\n  sub_categories: any;\n  descriptions: string;\n  descriptions_pt: string;\n  life_conditions: string;\n  life_conditions_pt: string;\n  сomposition: string;\n  сomposition_pt: string;\n  priority: number;\n};\n\ninterface EditProductProps {\n  fetchCreatePhoto: (image: any) => void;\n  fetchAllCategories: () => void;\n  fetchAllSubCategories: () => void;\n  fetchSingleProduct: (productId: string) => void;\n  fetchUpdateProduct: (\n    updated_product: Product,\n    productId: string,\n    history: any\n  ) => void;\n  singleProduct: any;\n  last_photo: string | undefined;\n  categories: any;\n  sub_categories: any;\n  subCategoriesLoading: boolean;\n  categoriesLoading: boolean;\n  singleLoading: boolean;\n}\n\nconst EditProductContainer: FC<EditProductProps> = ({\n  fetchCreatePhoto,\n  fetchSingleProduct,\n  fetchAllSubCategories,\n  fetchAllCategories,\n  fetchUpdateProduct,\n  last_photo,\n  categories,\n  sub_categories,\n  subCategoriesLoading,\n  categoriesLoading,\n  singleLoading,\n  singleProduct,\n}) => {\n  const match = useRouteMatch<any>();\n  const { productId } = match.params;\n  let history = useHistory();\n  const [isPhotoLoad, setPhotoLoad] = useState(false);\n  const [category, setCategory] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [oldPrice, setOldPrice] = useState(0);\n  const { register, handleSubmit, errors, setValue, control } = useForm();\n\n  useEffect(() => {\n    fetchSingleProduct(productId);\n    fetchAllSubCategories();\n    fetchAllCategories();\n  }, []);\n\n  useEffect(() => {\n    if (!subCategoriesLoading && singleProduct) {\n      setValue(\"sub_categories\", singleProduct.sub_category._id);\n    }\n  }, [subCategoriesLoading, singleProduct]);\n\n  console.log('SINGLE:', singleProduct)\n\n  useEffect(() => {\n    if (singleProduct && categories && sub_categories) {\n      console.log(singleProduct)\n\n      setValue(\"title\", singleProduct.title);\n      setValue(\"title_pt\", singleProduct.title_pt);\n      setValue(\"priority\", singleProduct.priority || 0);\n      setValue(\"price\", singleProduct.price.current);\n      setValue(\"old_price\", singleProduct.price.old);\n      setPrice(singleProduct.price.current);\n      setValue(\"discount\", singleProduct.price.discount);\n      setOldPrice(singleProduct.price.old);\n      setValue(\n        \"sub_categories\",\n        singleProduct.sub_category.map((el: any) => {\n          return { value: el._id, label: el.name };\n        })\n      );\n      setValue(\"descriptions\", singleProduct.descriptions);\n      setValue(\"descriptions_pt\", singleProduct.descriptions_pt);\n      setValue(\"life_conditions\", singleProduct.life_conditions);\n      setValue(\"life_conditions_pt\", singleProduct.life_conditions_pt);\n      setValue(\"сomposition\", singleProduct.сomposition);\n      setValue(\"сomposition_pt\", singleProduct.сomposition_pt);\n      setValue(\"storage_info\", singleProduct.storage_info);\n      setValue(\"storage_count\", singleProduct.storage_count);\n    }\n  }, [singleProduct, categories, sub_categories]);\n\n  const handleImageAsFile = async (e: any) => {\n    const image = e.target.files[0];\n    console.log(image);\n    await fetchCreatePhoto(image);\n    setPhotoLoad(true);\n  };\n  const onSubmit = (data: UpdateProduct) => {\n    fetchUpdateProduct(\n      {\n        title: data.title,\n        title_pt: data.title_pt,\n        price: {\n          current: Number(data.price),\n          old: data.old_price ? Number(data.old_price) : 0,\n          discount: data.old_price\n            ? Number(Math.floor(100 - price / (oldPrice / 100))) < 0\n              ? 0\n              : Number(Math.floor(100 - price / (oldPrice / 100)))\n            : 0,\n        },\n        descriptions: data.descriptions,\n        descriptions_pt: data.descriptions_pt,\n        images: [\n          isPhotoLoad && last_photo ? last_photo : singleProduct.images[0],\n        ],\n        storage_count: data.storage_count,\n        storage_info: data.storage_info,\n        sub_category: data.sub_categories.map((el: any) =>\n          firestore.doc(`sub_category/${el.value}`)\n        ),\n        priority: Number(data.priority),\n        // life_conditions: data.life_conditions,\n        // life_conditions_pt: data.life_conditions_pt,\n        // сomposition: data.сomposition,\n        // сomposition_pt: data.сomposition_pt,\n      },\n      productId,\n      history\n    );\n  };\n \n  return (\n    <div className=\"Product-Edit\">\n      <div className=\"Product-Edit-Header\">\n        <p className=\"Product-Edit-Header-Title\">Edit Product</p>\n        <div className=\"Product-Edit-Header-Button\"></div>\n      </div>\n      {sub_categories && categories && !singleLoading ? (\n        <form className=\"Product-Edit-Form\" onSubmit={handleSubmit(onSubmit)}>\n          {isPhotoLoad ? (\n            <img\n              className=\"Product-Edit-Form-Selected-Image\"\n              src={last_photo}\n              alt=\"\"\n            />\n          ) : singleProduct ? (\n            <img\n              className=\"Product-Edit-Form-Selected-Image\"\n              src={singleProduct.images[0]}\n              alt=\"\"\n            />\n          ) : (\n            <div className=\"Product-Edit-Form-Image-Empty\">\n              <p>Image not added</p>\n            </div>\n          )}\n          <input\n            type=\"file\"\n            accept=\"image/jpeg,image/png,image/jpg\"\n            className=\"Product-Edit-Form-Image\"\n            onChange={handleImageAsFile}\n          />\n          <FormInput\n            title=\"Title\"\n            placeholder={\"Title\"}\n            name={\"title\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormInput\n            title=\"Portugal Title\"\n            placeholder={\"Portugal Title\"}\n            name={\"title_pt\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormInput\n            title=\"Priority number\"\n            placeholder={\"Priority number\"}\n            name={\"priority\"}\n            type=\"number\"\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <div className=\"Product-Edit-Form-Row\">\n            <FormInput\n              title=\"Current price\"\n              customStyle={{ marginRight: \"20px\" }}\n              placeholder={\"Current Price\"}\n              name={\"price\"}\n              type={\"number\"}\n              errors={errors}\n              register={register}\n              onChange={(value: any) => setPrice(value)}\n              required={{ required: true }}\n            />\n            <FormInput\n              title=\"Old price\"\n              placeholder={\"Old Price\"}\n              name={\"old_price\"}\n              type={\"number\"}\n              errors={errors}\n              register={register}\n              onChange={(value: any) => setOldPrice(value)}\n              required={{}}\n            />\n          </div>\n          <p className=\"Product-Edit-Form-Price\">\n            Finally discount:\n            {oldPrice\n              ? Number(Math.floor(100 - price / (oldPrice / 100))) < 0\n                ? 0\n                : Number(Math.floor(100 - price / (oldPrice / 100)))\n              : 0}\n          </p>\n          <FormInput\n            title=\"Storage count\"\n            placeholder={\"Storage Count\"}\n            name={\"storage_count\"}\n            type={\"number\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormInput\n            title=\"Storage info\"\n            placeholder={\"Storage Info\"}\n            name={\"storage_info\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormSelect\n            title=\"Sub Categories(Firstly select category)\"\n            placeholder={\"Sub Categories(Firstly select category)\"}\n            name={\"sub_categories\"}\n            options={sub_categories.map((el: any) => {\n              return { value: el._id, label: el.name };\n            })}\n            errors={errors}\n            control={control}\n            multi={true}\n            required={{ required: true }}\n          />\n          <FormInput\n            title=\"Descriptions\"\n            placeholder={\"Descriptions\"}\n            name={\"descriptions\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormInput\n            title=\"Portugal Descriptions\"\n            placeholder={\"Portugal Descriptions\"}\n            name={\"descriptions_pt\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          {/* <FormInput\n            placeholder={\"Life Conditions\"}\n            name={\"life_conditions\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormInput\n            placeholder={\"Portugal Life Conditions\"}\n            name={\"life_conditions_pt\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          /> */}\n          {/* <FormInput\n            placeholder={\"Composition\"}\n            name={\"сomposition\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          />\n          <FormInput\n            placeholder={\"Portugal Composition\"}\n            name={\"сomposition_pt\"}\n            type={\"text\"}\n            errors={errors}\n            register={register}\n            required={{ required: true }}\n          /> */}\n          <input\n            type=\"submit\"\n            className=\"Product-Edit-Form-Button\"\n            value=\"Update\"\n          />\n        </form>\n      ) : null}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    last_photo: state.image.last_photo,\n    categories: state.category.categories,\n    singleProduct: state.product.singleProduct,\n    singleLoading: state.product.singleLoading,\n    sub_categories: state.sub_category.subCategories,\n    subCategoriesLoading: state.sub_category.loading,\n    categoriesLoading: state.category.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  fetchCreatePhoto: (image: any) => dispatch(fetchCreatePhoto(image)),\n  fetchSingleProduct: (productId: string) =>\n    dispatch(fetchSingleProduct(productId)),\n  fetchAllCategories: () => dispatch(fetchAllCategories()),\n  fetchAllSubCategories: () => dispatch(fetchAllSubCategories()),\n  fetchUpdateProduct: (\n    updated_product: Product,\n    productId: string,\n    history: any\n  ) => dispatch(fetchUpdateProduct(updated_product, productId, history)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EditProductContainer);\n"],"sourceRoot":""}